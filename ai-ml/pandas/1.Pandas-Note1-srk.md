# Pandas Tutorial

## Table of Contents
- [Introduction](#introduction)
- [Pandas Series](#pandas-series)
- [Pandas DataFrame](#pandas-dataframe)
- [DataFrame Operations](#dataframe-operations)
- [Combining DataFrames](#combining-dataframes)
- [Merging DataFrames](#merging-dataframes)

---

## Introduction

### Import Libraries
```python
import numpy as np
import pandas as pd
```

---

## Pandas Series

### What is a Pandas Series?
- A one-dimensional (1D) array holding data of any type
- Similar to a column in a table

### 1. Creating Series from a List

```python
l = [10, 20, 30]
s = pd.Series(l)
print(s)
```

**Output:**
```
0    10
1    20
2    30
dtype: int64
```

**Check type:**
```python
type(s)  # pandas.core.series.Series
```

**Check shape:**
```python
s.shape  # (3,)
```

### 2. Creating Series with Custom Index

```python
l = [10, 20, 30]
s = pd.Series(l, index=["a", "b", "c"])
print(s)
```

**Output:**
```
a    10
b    20
c    30
dtype: int64
```

### 3. Creating Series from 1D Array

```python
a = np.array([10, 20, 30])
s = pd.Series(a)
print(s)
```

**Output:**
```
0    10
1    20
2    30
dtype: int32
```

**With custom index:**
```python
a = np.array([10, 20, 30])
s = pd.Series(a, index=["a", "b", "c"])
print(s)
```

**Output:**
```
a    10
b    20
c    30
dtype: int32
```

### 4. Creating Series from Dictionary

```python
d = {'a': 10, 'b': 20, 'c': 30}
s = pd.Series(d)
print(s)
```

**Output:**
```
a    10
b    20
c    30
dtype: int64
```

---

## Pandas DataFrame

### What is a DataFrame?
- A 2-dimensional data structure (like a 2D array or table)
- Contains rows and columns

### 1. Creating DataFrame from Dictionary

**Basic example:**
```python
d = {'col1': [1, 2], 'col2': [3, 4]}
s = pd.Series(d)
print(s)
```

**Output:**
```
col1    [1, 2]
col2    [3, 4]
dtype: object
```

**Creating actual DataFrame:**
```python
d = {'col1': [1, 2], 'col2': [3, 4]}
df = pd.DataFrame(d)
df
```

**Output:**
```
   col1  col2
0     1     3
1     2     4
```

**Check type:**
```python
type(df)  # pandas.core.frame.DataFrame
```

**Check shape:**
```python
df.shape  # (2, 2)
```

### 2. Creating DataFrame from Nested List

```python
data = [[1, 2, 3], [4, 5, 6]]
df1 = pd.DataFrame(data, columns=["a", "b", "c"])
df1
```

**Output:**
```
   a  b  c
0  1  2  3
1  4  5  6
```

### 3. Creating DataFrame from 2D Array

```python
arr_2d = np.array([[1, 2, 3], [4, 5, 6]])
df2 = pd.DataFrame(arr_2d, index=["a", "b"], columns=["s", "r", "k"])
df2
```

**Output:**
```
   s  r  k
a  1  2  3
b  4  5  6
```

---

## DataFrame Operations

### Sample DataFrame

```python
df = pd.DataFrame({
    'Age': [22, 30, 23, 25, 24],
    'Salary': [28000, 17000, 46000, 42000, 55000],
    'Gender': ["M", "F", "M", "M", "F"]
})
df
```

**Output:**
```
   Age  Salary Gender
0   22   28000      M
1   30   17000      F
2   23   46000      M
3   25   42000      M
4   24   55000      F
```

### Index Operations

#### Set Index
```python
df1 = df.set_index("Age")
df1
```

**Output:**
```
     Salary Gender
Age                
22    28000      M
30    17000      F
23    46000      M
25    42000      M
24    55000      F
```

#### Reset Index
```python
df1.reset_index()
```

**Output:**
```
   Age  Salary Gender
0   22   28000      M
1   30   17000      F
2   23   46000      M
3   25   42000      M
4   24   55000      F
```

### Drop Operations

#### Drop Single Row
```python
df1 = df.drop(index=[3])
df1
```

**Output:**
```
   Age  Salary Gender
0   22   28000      M
1   30   17000      F
2   23   46000      M
4   24   55000      F
```

#### Drop Multiple Rows
```python
df1 = df.drop(index=[0, 1, 2])
df1
```

**Output:**
```
   Age  Salary Gender
3   25   42000      M
4   24   55000      F
```

#### Drop Single Column
```python
df1 = df.drop(columns=["Age"])
df1
```

**Output:**
```
   Salary Gender
0   28000      M
1   17000      F
2   46000      M
3   42000      M
4   55000      F
```

#### Drop Multiple Columns
```python
df1 = df.drop(columns=["Age", "Gender"])
df1
```

**Output:**
```
   Salary
0   28000
1   17000
2   46000
3   42000
4   55000
```

### Sorting Values

#### Ascending Order
```python
# Sorting in ascending order
df.sort_values(by='Age', ascending=True)
```

**Output:**
```
   Age  Salary Gender
0   22   28000      M
2   23   46000      M
4   24   55000      F
3   25   42000      M
1   30   17000      F
```

#### Descending Order
```python
# Sorting in descending order
df.sort_values(by='Age', ascending=False)
```

**Output:**
```
   Age  Salary Gender
1   30   17000      F
3   25   42000      M
4   24   55000      F
2   23   46000      M
0   22   28000      M
```

---

## Combining DataFrames

### Sample DataFrames

**DataFrame 1:**
```python
df1 = pd.DataFrame({
    "city": ["mumbai", "delhi", "banglore", "hyderabad"],
    "temperature": [32, 45, 40, 36]
})
df1
```

**Output:**
```
       city  temperature
0    mumbai           32
1     delhi           45
2  banglore           40
3  hyderabad          36
```

**DataFrame 2:**
```python
df2 = pd.DataFrame({
    "city": ["delhi", "mumbai", "banglore", "chennai"],
    "humidity": [68, 65, 75, 70]
})
df2
```

**Output:**
```
       city  humidity
0     delhi        68
1    mumbai        65
2  banglore        75
3   chennai        70
```

### Concatenation

#### Concatenate along rows (axis=1)
```python
pd.concat([df1, df2], axis=1)
```

**Output:**
```
       city  temperature      city  humidity
0    mumbai           32     delhi        68
1     delhi           45    mumbai        65
2  banglore           40  banglore        75
3  hyderabad          36   chennai        70
```

#### Concatenate along columns (axis=0)
```python
pd.concat([df1, df2], axis=0)
```

**Output:**
```
       city  temperature  humidity
0    mumbai         32.0       NaN
1     delhi         45.0       NaN
2  banglore         40.0       NaN
3  hyderabad        36.0       NaN
0     delhi          NaN      68.0
1    mumbai          NaN      65.0
2  banglore          NaN      75.0
3   chennai          NaN      70.0
```

#### Concatenate with ignore_index=True
```python
pd.concat([df1, df2], ignore_index=True)
```

**Output:**
```
       city  temperature  humidity
0    mumbai         32.0       NaN
1     delhi         45.0       NaN
2  banglore         40.0       NaN
3  hyderabad        36.0       NaN
4     delhi          NaN      68.0
5    mumbai          NaN      65.0
6  banglore          NaN      75.0
7   chennai          NaN      70.0
```

---

## Merging DataFrames

### Left Join
```python
left_df = pd.merge(df1, df2, on='city', how='left')
left_df
```

**Output:**
```
       city  temperature  humidity
0    mumbai           32      65.0
1     delhi           45      68.0
2  banglore           40      75.0
3  hyderabad          36       NaN
```

### Right Join
```python
right_df = pd.merge(df1, df2, on='city', how='right')
right_df
```

**Output:**
```
       city  temperature  humidity
0     delhi         45.0        68
1    mumbai         32.0        65
2  banglore         40.0        75
3   chennai          NaN        70
```

### Inner Join
```python
# Inner Join -- common data records
inner_df = pd.merge(df1, df2, on="city", how="inner")
inner_df
```

**Output:**
```
       city  temperature  humidity
0    mumbai           32        65
1     delhi           45        68
2  banglore           40        75
```

### Outer Join
```python
# Outer Join -- all records of both dataframes
outer_df = pd.merge(df1, df2, on='city', how='outer')
outer_df
```

**Output:**
```
       city  temperature  humidity
0    mumbai         32.0      65.0
1     delhi         45.0      68.0
2  banglore         40.0      75.0
3  hyderabad        36.0       NaN
4   chennai          NaN      70.0
```

---

## Key Concepts and Tips

### Series
- **Definition**: One-dimensional labeled array
- **Creation methods**: List, NumPy array, dictionary
- **Index**: Can be default (0, 1, 2...) or custom labels
- **Use case**: Represents a single column of data

### DataFrame
- **Definition**: Two-dimensional labeled data structure
- **Creation methods**: Dictionary, nested list, 2D NumPy array
- **Structure**: Consists of rows (index) and columns
- **Shape**: Access using `.shape` attribute (rows, columns)

### Index Operations
- **set_index()**: Convert a column to index
- **reset_index()**: Convert index back to regular column
- **Use case**: Useful for organizing and accessing data

### Drop Operations
- **drop(index=[...])**: Remove rows by index
- **drop(columns=[...])**: Remove columns by name
- **Tip**: Does not modify original DataFrame unless `inplace=True`

### Sorting
- **sort_values(by='column')**: Sort by specific column
- **ascending=True**: Sort in ascending order (default)
- **ascending=False**: Sort in descending order

### Concatenation
- **axis=0**: Stack vertically (add rows)
- **axis=1**: Stack horizontally (add columns)
- **ignore_index=True**: Reset index after concatenation

### Merging
- **on='column'**: Specify the key column for merging
- **how='left'**: Keep all rows from left DataFrame
- **how='right'**: Keep all rows from right DataFrame
- **how='inner'**: Keep only common rows
- **how='outer'**: Keep all rows from both DataFrames

---

## Best Practices

1. **Always check data types** using `type()` and `dtype`
2. **Verify shapes** using `.shape` before operations
3. **Use meaningful column names** for clarity
4. **Set index wisely** for better data access
5. **Choose appropriate merge type** based on your needs:
   - Use **inner** for common records only
   - Use **outer** for all records
   - Use **left/right** when one DataFrame is primary
6. **Handle NaN values** appropriately after merging/concatenating
7. **Use `ignore_index=True`** when concatenating to avoid duplicate indices

---

## Common Pitfalls to Avoid

❌ **Don't forget to assign results** - Most operations return new DataFrames
❌ **Avoid modifying original data** unless using `inplace=True`
❌ **Check for NaN values** after merge/concat operations
❌ **Ensure consistent data types** across columns
❌ **Be careful with index alignment** during operations

---

*These notes are based on practical examples demonstrating core Pandas functionality for data manipulation and analysis.*
